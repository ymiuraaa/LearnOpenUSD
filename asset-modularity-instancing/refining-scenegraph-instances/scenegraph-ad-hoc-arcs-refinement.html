

<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Ad Hoc Arcs Refinement &#8212; Learn OpenUSD</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/lousd_custom.css?v=9deb43b2" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=ca842793"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'asset-modularity-instancing/refining-scenegraph-instances/scenegraph-ad-hoc-arcs-refinement';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Broadcasted Refinement" href="scenegraph-broadcasted-refinement.html" />
    <link rel="prev" title="Hierarchical Refinement" href="scenegraph-hierarchical-refinement.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


    <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js" ></script>
    


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-openusd/index.html">What Is OpenUSD?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../why-openusd-developer-certification.html">Why Get Certified</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../stage-setting/index.html">Setting the Stage</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/stage.html">Stage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/prims.html">Prims</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../stage-setting/properties/index.html">Properties</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stage-setting/properties/attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stage-setting/properties/relationships.html">Relationships</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/timecodes-timesamples.html">TimeCodes and TimeSamples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/prim-property-paths.html">Prim and Property Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/usd-file-formats.html">OpenUSD File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/usd-modules.html">OpenUSD Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/metadata.html">Metadata</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../scene-description-blueprints/index.html">Scene Description Blueprints</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/schemas.html">Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/scope.html">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/xform.html">Xform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/xformcommonapi.html">XformCommonAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/lights.html">Lights</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../composition-basics/index.html">Composition Basics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/layers.html">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/strength-ordering.html">Composition Arcs and Strength Ordering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/specifiers.html">Specifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/references.html">Referencing Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/default-prim.html">Default Prim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/variant-sets.html">Variant Sets Basics</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../beyond-basics/index.html">Beyond the Basics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/primvars.html">Primvars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/value-resolution.html">Value Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/custom-properties.html">Custom Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/active-inactive-prims.html">Active and Inactive Prims</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/model-kinds.html">Model Kinds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/stage-traversal.html">Stage Traversal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/hydra.html">Hydra</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../creating-composition-arcs/index.html">Creating Composition Arcs</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/prim-composition.html">What Is Prim Composition?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/sublayers/index.html">Sublayers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/what-are-sublayers.html">What Are Sublayers?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/working-with-sublayers.html">Exercise: Working with Sublayers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/sublayers-faq.html">Sublayers FAQ</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/index.html">References and Payloads</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/what-are-references.html">What Are References?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/working-with-references.html">Exercise: Working With References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/references-faq.html">References FAQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/what-are-payloads.html">What Are Payloads?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/working-with-payloads.html">Exercise: Working With Payloads</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/index.html">Encapsulation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/what-is-encapsulation.html">What Is Encapsulation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/experimenting-with-encapsulation.html">Exercise: Experimenting With Encapsulation</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/index.html">Variant Sets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/what-are-variant-sets.html">What Are Variant Sets?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/working-with-variant-sets.html">Exercise: Working With Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/index.html">Inherits and Specializes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/what-is-inherits.html">What Is Inherits?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-inherits.html">Exercise: Experimenting With Inherits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/what-is-specializes.html">What Is Specializes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-specializes.html">Exercise: Experimenting With Specializes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/encapsulation-refinement.html">Encapsulation and Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-encapsulation-refinement.html">Exercise: Experimenting With Encapsulation and Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/index.html">LIVERPS Strenth Ordering</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/what-is-liverps.html">What Is LIVERPS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/tracing-through-liverps.html">Tracing Through LIVERPS</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../asset-structure/index.html">Asset Structure Principles and Content Aggregation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../asset-structure/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../asset-structure/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/asset-structure-principles/index.html">Principles of Asset Structure</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/why-necessary.html">Why Is an Asset Structure Necessary?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt1.html">What Is an Asset Interface?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/your-first-asset.html">Exercise: Your First Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt2.html">What Is an Asset Interface? (Part 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/encapsulating-your-asset.html">Exercise: Encapsulating Your Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt3.html">What Is an Asset Interface? (Part 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/organizing-prim-hierarchy.html">Exercise: Organizing Prim Hierarchy</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/workstreams/index.html">Workstreams</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/workstreams/modeling-workstreams.html">Modeling Workstreams With Layer Stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/workstreams/adding-user-workstreams.html">Exercise: Adding User Workstreams</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/asset-parameterization/index.html">Asset Parameterization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-parameterization/what-is-asset-parameterization.html">What Is Asset Parameterization?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-parameterization/exercise-asset-parameterization.html">Exercise: Asset Parameterization</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/index.html">Reference/Payload Pattern</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/what-is-ref-payload-pattern.html">What Is Reference/Payload Pattern?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/exercise-ref-payload-pattern.html">Exercise: Reference/Payload Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/lofting-primvars.html">Exercise: Lofting Primvars</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/lofting-variant-sets.html">Exercise: Lofting Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/model-hierarchy/index.html">Model Hierarchy</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/what-are-model-kinds.html">What Are Model Kinds?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-components.html">Exercise: Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-assemblies.html">Exercise: Assemblies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/model-hierarchy-considerations.html">Model Hierarchy Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-groups.html">Exercise: Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-variation-workstream.html">Exercise: Variation Workstream</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../data-exchange/index.html">Developing Data Exchange Pipelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data-exchange/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data-exchange/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-exchange/index.html">Data Exchange</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-exchange/what-is-data-exchange.html">What Is Data Exchange?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-exchange/exercise.html">Exercise: Anatomy of a Converter</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-extraction/index.html">Data Extraction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/what-is-data-extraction.html">What Is Data Extraction?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/exercise-extracting-geometry.html">Exercise: Extracting Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/exercise-extracting-materials.html">Exercise: Extracting Materials</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/asset-validation/index.html">Asset Validation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/asset-validation/what-is-asset-validation.html">What Is Asset Validation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/asset-validation/exercise-asset-validation-testing.html">Exercise: Asset Validation and Testing</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-transformation/index.html">Data Transformation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/what-is-data-transformation.html">What Is Data Transformation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/transformation-hierarchy.html">Exercise: Transforming the Prim Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/exercise-export-option.html">Exercise: Adding an Export Option</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Asset Modularity and Instancing</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity/index.html">Asset Modularity</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity/what-is-asset-modularity.html">What Is Asset Modularity?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity/exercise-assets-overview.html">Exercise: Assets Overview</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../what-is-instancing.html">What Is Instancing?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../authoring-scenegraph-instancing/index.html">Authoring Scenegraph Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/scenegraph-instancing-intro.html">Introduction to Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/exercise-authoring-scenegraph-instancing.html">Exercise: Author Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/nested-instancing.html">Nested Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/exercise-nested-instancing.html">Exercise: Nested Scenegraph Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Refining Scenegraph Instances</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="scenegraph-instance-refinement.html">Introduction to Scenegraph Instance Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-deinstance-refinement.html">Deinstancing Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-variant-set-refinement.html">Refinement Using Variant Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-hierarchical-refinement.html">Hierarchical Refinement</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Ad Hoc Arcs Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-broadcasted-refinement.html">Broadcasted Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../authoring-point-instancing/index.html">Authoring Point Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../authoring-point-instancing/point-instancing-intro.html">Introduction to Point Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-point-instancing/exercise-authoring-point-instancing.html">Exercise: Authoring Point Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../refining-point-instances.html">Refining Point Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instancing-faq.html">Instancing FAQ</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Common Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../usdview-install-instructions.html">Installing usdview and Setting Up Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Involved</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD">Contribute</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD/issues/new">Report an Issue</a></li>
<li class="toctree-l1"><a class="reference external" href="https://forum.aousd.org">Join the Community</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Asset Modularity and Instancing</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Refining Scenegraph Instances</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Ad Hoc Arcs Refinement</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="ad-hoc-arcs-refinement">
<h1>Ad Hoc Arcs Refinement<a class="headerlink" href="#ad-hoc-arcs-refinement" title="Link to this heading">#</a></h1>
<section id="what-is-ad-hoc-arcs-refinement">
<h2>What Is Ad Hoc Arcs Refinement?<a class="headerlink" href="#what-is-ad-hoc-arcs-refinement" title="Link to this heading">#</a></h2>
<p>New composition arcs can be added to an instanceable prim on the local layer stack. Within the additional composition arc, you can introduce new opinions on an instance. The result is a new prototype for that instance and any copies that share the new composition arc.</p>
<figure class="align-default" id="id1">
<img alt="../../_images/ad-hoc-refinement.png" src="../../_images/ad-hoc-refinement.png" />
<figcaption>
<p><span class="caption-text">Composition arcs can be added to introduce ad hoc edits without disabling instancing.</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>In this example, we have four instances of the robot arm. On one of the instanceable prims, we can add a new internal reference with a different pose for the robot arm. The result is three instances using the original prototype and one using the new prototype with an additional internal reference.</p>
<p>The more instances you apply the new composition arc to, the more beneficial and appealing this technique gets. In this example, a dozen or so robot arms using the same pose can make this technique worthwhile.</p>
<p>If you don’t foresee a lot of instances leveraging the new ad hoc composition arc, then deinstancing may be a better option and more straight-forward. Don’t feel like you have to preserve instancing at all costs. USD has tons of ways to get performance without instancing enabled.</p>
</section>
<section id="exercise-ad-hoc-arcs-refinement">
<h2>Exercise: Ad Hoc Arcs Refinement<a class="headerlink" href="#exercise-ad-hoc-arcs-refinement" title="Link to this heading">#</a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h3>
<p>In this exercise, you will learn ad hoc arcs refinement, a technique that adds new composition arcs to instanceable prims to introduce variety while preserving instancing benefits. You’ll add stamps boxes with the word “Damaged” using internal references, observe how this creates new prototypes, and understand when this approach is most beneficial compared to other refinement techniques.</p>
</section>
<section id="exploring-the-damaged-stamp-asset">
<h3>Exploring the Damaged Stamp Asset<a class="headerlink" href="#exploring-the-damaged-stamp-asset" title="Link to this heading">#</a></h3>
<p>In this exercise, we’ll simulate a box that was damaged in the warehouse. We’ll add a “Damaged” stamp on a couple of boxes while maintaining instancing enabled for them.</p>
<ol class="arabic simple">
<li><p><strong>Open</strong> <code class="docutils literal notranslate"><span class="pre">instancing/src_assets/Assets/Utilities/MiscDecals/MiscDecals.usd</span></code> in VSCode to inspect the USDA.</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">MiscDecals.usd</span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-usda notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">#usda 1.0</span>
<span class="linenos"> 2</span><span class="p">(</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="n n-Builtins">endTimeCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<span class="linenos"> 4</span><span class="w">    </span>metersPerUnit<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.01</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="n n-Builtins">startTimeCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<span class="linenos"> 6</span><span class="w">    </span>timeCodesPerSecond<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">60</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="n n-Builtins">upAxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Z&quot;</span>
<span class="linenos"> 8</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="k k-Tokens">class</span><span class="w"> </span><span class="s">&quot;_MixinOverrides&quot;</span>
<span class="linenos">10</span><span class="p">{</span>
<span class="hll"><span class="linenos">11</span><span class="w">    </span><span class="k k-Tokens">over</span><span class="w"> </span><span class="s">&quot;DamagedStamp&quot;</span>
</span><span class="linenos">12</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">13</span><span class="w">        </span><span class="k k-Tokens">def</span><span class="w"> </span>Mesh<span class="w"> </span><span class="s">&quot;DamagedStamp_01&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">14</span><span class="w">            </span><span class="kt">prepend</span><span class="w"> </span><span class="na">apiSchemas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;MaterialBindingAPI&quot;</span><span class="p">]</span>
<span class="linenos">15</span><span class="w">        </span><span class="p">)</span>
<span class="linenos">16</span><span class="w">        </span><span class="p">{</span>
<span class="linenos">17</span><span class="w">            </span><span class="kt">rel</span><span class="w"> </span><span class="na">material:binding</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">&lt;/_MixinOverrides/DamagedStamp/Looks/M_DamagedStamp_01&gt;</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">18</span><span class="w">                </span>bindMaterialAs<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;weakerThanDescendants&quot;</span>
<span class="linenos">19</span><span class="w">            </span><span class="p">)</span>
<span class="linenos">20</span><span class="w">            </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">token</span><span class="w"> </span><span class="na">subdivisionScheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span>
<span class="linenos">21</span><span class="w">            </span><span class="kt">int[]</span><span class="w"> </span><span class="na">faceVertexCounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">4</span><span class="p">]</span>
<span class="linenos">22</span><span class="w">            </span><span class="kt">int[]</span><span class="w"> </span><span class="na">faceVertexIndices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">]</span>
<span class="linenos">23</span><span class="w">            </span><span class="kt">point3f[]</span><span class="w"> </span><span class="na">points</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">24</span><span class="w">                </span><span class="p">(</span><span class="m">15.31</span><span class="p">,</span><span class="w"> </span><span class="m">5.00</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="linenos">25</span><span class="w">                </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">5.00</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="linenos">26</span><span class="w">                </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">),</span>
<span class="linenos">27</span><span class="w">                </span><span class="p">(</span><span class="m">15.31</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="linenos">28</span><span class="w">            </span><span class="p">]</span>
<span class="linenos">29</span><span class="w">            </span><span class="kt">normal3f[]</span><span class="w"> </span><span class="na">normals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)]</span>
<span class="linenos">30</span><span class="w">            </span><span class="kt">texCoord2f[]</span><span class="w"> </span><span class="na">primvars:st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[(</span><span class="m">0.715</span><span class="p">,</span><span class="w"> </span><span class="m">0.233</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.233</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.0</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="m">0.715</span><span class="p">,</span><span class="w"> </span><span class="m">0.0</span><span class="p">)](</span>
<span class="linenos">31</span><span class="w">                </span><span class="n n-Builtins">interpolation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;faceVarying&quot;</span>
<span class="linenos">32</span><span class="w">            </span><span class="p">)</span>
<span class="linenos">33</span><span class="w">            </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">int[]</span><span class="w"> </span><span class="na">primvars:st:indices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">]</span>
<span class="linenos">34</span>
<span class="linenos">35</span><span class="w">            </span><span class="kt">float3</span><span class="w"> </span><span class="na">xformOp:rotateXYZ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">90.0</span><span class="p">,</span><span class="w"> </span><span class="m">10.0</span><span class="p">,</span><span class="w"> </span><span class="m">-90.0</span><span class="p">)</span>
<span class="linenos">36</span><span class="w">            </span><span class="kt">float3</span><span class="w"> </span><span class="na">xformOp:scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="linenos">37</span><span class="w">            </span><span class="kt">double3</span><span class="w"> </span><span class="na">xformOp:translate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">-13.07</span><span class="p">,</span><span class="w"> </span><span class="m">7.0</span><span class="p">,</span><span class="w"> </span><span class="m">13.0</span><span class="p">)</span>
<span class="linenos">38</span><span class="w">            </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">token[]</span><span class="w"> </span><span class="na">xformOpOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;xformOp:translate&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;xformOp:rotateXYZ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;xformOp:scale&quot;</span><span class="p">]</span>
<span class="linenos">39</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">40</span><span class="w">        </span><span class="k k-Tokens">over</span><span class="w"> </span><span class="s">&quot;Looks&quot;</span>
<span class="linenos">41</span><span class="w">        </span><span class="p">{</span>
<span class="linenos">42</span><span class="w">            </span><span class="k k-Tokens">def</span><span class="w"> </span>Material<span class="w"> </span><span class="s">&quot;M_DamagedStamp_01&quot;</span>
<span class="linenos">43</span><span class="w">            </span><span class="p">{</span>
<span class="linenos">44</span><span class="w">                </span><span class="kt">token</span><span class="w"> </span><span class="na">outputs:surface</span><span class="p">.</span>connect<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">&lt;/_MixinOverrides/DamagedStamp/Looks/M_DamagedStamp_01/UsdPreviewSurface.outputs:surface&gt;</span>
<span class="linenos">45</span><span class="w">                </span><span class="k k-Tokens">def</span><span class="w"> </span>Shader<span class="w"> </span><span class="s">&quot;UsdPreviewSurface&quot;</span>
<span class="linenos">46</span><span class="w">                </span><span class="p">{</span>
<span class="linenos">47</span><span class="w">                    </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">token</span><span class="w"> </span><span class="na">info:id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UsdPreviewSurface&quot;</span>
<span class="linenos">48</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:clearcoat</span>
<span class="linenos">49</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:clearcoatRoughness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
<span class="linenos">50</span><span class="w">                    </span><span class="kt">color3f</span><span class="w"> </span><span class="na">inputs:diffuseColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="m">0.0</span><span class="p">)</span>
<span class="linenos">51</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:ior</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.7887884</span>
<span class="linenos">52</span><span class="w">                    </span><span class="kt">normal3f</span><span class="w"> </span><span class="na">inputs:normal</span>
<span class="linenos">53</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:opacity</span><span class="p">.</span>connect<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">&lt;/_MixinOverrides/DamagedStamp/Looks/M_DamagedStamp_01/UsdUVTexture.outputs:r&gt;</span>
<span class="linenos">54</span><span class="w">                    </span><span class="kt">token</span><span class="w"> </span><span class="na">inputs:opacityMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;presence&quot;</span>
<span class="linenos">55</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:opacityThreshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.0</span>
<span class="linenos">56</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">inputs:roughness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.0</span>
<span class="linenos">57</span><span class="w">                    </span><span class="kt">token</span><span class="w"> </span><span class="na">outputs:surface</span>
<span class="linenos">58</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">59</span>
<span class="linenos">60</span><span class="w">                </span><span class="k k-Tokens">def</span><span class="w"> </span>Shader<span class="w"> </span><span class="s">&quot;UsdUVTexture&quot;</span>
<span class="linenos">61</span><span class="w">                </span><span class="p">{</span>
<span class="linenos">62</span><span class="w">                    </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">token</span><span class="w"> </span><span class="na">info:id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UsdUVTexture&quot;</span>
<span class="linenos">63</span><span class="w">                    </span><span class="kt">float4</span><span class="w"> </span><span class="na">inputs:bias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">)</span>
<span class="linenos">64</span><span class="w">                    </span><span class="kt">float4</span><span class="w"> </span><span class="na">inputs:fallback</span>
<span class="linenos">65</span><span class="w">                    </span><span class="kt">asset</span><span class="w"> </span><span class="na">inputs:file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">@./Textures/damaged_stamp_opacity.jpg@</span>
<span class="linenos">66</span><span class="w">                    </span><span class="kt">float4</span><span class="w"> </span><span class="na">inputs:scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="linenos">67</span><span class="w">                    </span><span class="kt">token</span><span class="w"> </span><span class="na">inputs:sourceColorSpace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;sRGB&quot;</span>
<span class="linenos">68</span><span class="w">                    </span><span class="kt">float2</span><span class="w"> </span><span class="na">inputs:st</span><span class="p">.</span>connect<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">&lt;/_MixinOverrides/DamagedStamp/Looks/M_DamagedStamp_01/UsdPrimvarReader_float2.outputs:result&gt;</span>
<span class="linenos">69</span><span class="w">                    </span><span class="kt">token</span><span class="w"> </span><span class="na">inputs:wrapS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;repeat&quot;</span>
<span class="linenos">70</span><span class="w">                    </span><span class="kt">token</span><span class="w"> </span><span class="na">inputs:wrapT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;repeat&quot;</span>
<span class="linenos">71</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">outputs:a</span>
<span class="linenos">72</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">outputs:b</span>
<span class="linenos">73</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">outputs:g</span>
<span class="linenos">74</span><span class="w">                    </span><span class="kt">float</span><span class="w"> </span><span class="na">outputs:r</span>
<span class="linenos">75</span><span class="w">                    </span><span class="kt">float3</span><span class="w"> </span><span class="na">outputs:rgb</span>
<span class="linenos">76</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">77</span>
<span class="linenos">78</span><span class="w">                </span><span class="k k-Tokens">def</span><span class="w"> </span>Shader<span class="w"> </span><span class="s">&quot;UsdPrimvarReader_float2&quot;</span>
<span class="linenos">79</span><span class="w">                </span><span class="p">{</span>
<span class="linenos">80</span><span class="w">                    </span><span class="k k-Token">uniform</span><span class="w"> </span><span class="kt">token</span><span class="w"> </span><span class="na">info:id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UsdPrimvarReader_float2&quot;</span>
<span class="linenos">81</span><span class="w">                    </span><span class="kt">float2</span><span class="w"> </span><span class="na">inputs:fallback</span>
<span class="linenos">82</span><span class="w">                    </span><span class="kt">string</span><span class="w"> </span><span class="na">inputs:varname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;st&quot;</span>
<span class="linenos">83</span><span class="w">                    </span><span class="kt">float2</span><span class="w"> </span><span class="na">outputs:result</span>
<span class="linenos">84</span><span class="w">                </span><span class="p">}</span>
<span class="linenos">85</span><span class="w">            </span><span class="p">}</span>
<span class="linenos">86</span><span class="w">        </span><span class="p">}</span>
<span class="linenos">87</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">88</span><span class="p">}</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">/_MixinOverrides/DamagedStamp</span></code> is a speculative <code class="docutils literal notranslate"><span class="pre">over</span></code> (override) that introduces a new decal Mesh and Material for the “Damaged” stamp. This is a bit hard-coded to position the stamp perfectly on the “CubeBox_A04_26cm” asset, but it could be designed to be used more modularly so it could be applied to all sorts of assets. We’re going to use this layer as a reference to refine our boxes as an additional ad hoc composition arc.</p>
</section>
<section id="adding-ad-hoc-composition-arcs">
<h3>Adding Ad Hoc Composition Arcs<a class="headerlink" href="#adding-ad-hoc-composition-arcs" title="Link to this heading">#</a></h3>
<ol class="arabic simple" start="2">
<li><p><strong>Run</strong> in the terminal:</p></li>
</ol>
<p>Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="p">.\</span><span class="n">scripts</span><span class="p">\</span><span class="n">usdview</span><span class="p">.</span><span class="n">bat</span> <span class="p">.\</span><span class="n">instancing</span><span class="p">\</span><span class="n">ex_sg_add_arc_refine</span><span class="p">\</span><span class="n">Scenario</span><span class="p">.</span><span class="n">usd</span> <span class="p">-</span><span class="n">-camera</span> <span class="n">ExCam_01</span>
</pre></div>
</div>
<p>Linux:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./scripts/usdview.sh<span class="w"> </span>./instancing/ex_sg_add_arc_refine/Scenario.usd<span class="w"> </span>--camera<span class="w"> </span>ExCam_01
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Click</strong> <em>Camera &gt; Select Camera &gt; ExCam_01</em> if you ever lose your place in the scene or want to get back to this camera position.</p>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Click</strong> <em>Window &gt; Interpreter</em> to open the Interpreter window.</p></li>
<li><p><strong>Run</strong> the following code in the Interpreter window:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="linenos">2</span><span class="n">stage</span> <span class="o">=</span> <span class="n">usdviewApi</span><span class="o">.</span><span class="n">stage</span>
<span class="linenos">3</span><span class="n">box1</span> <span class="o">=</span> <span class="n">stage</span><span class="o">.</span><span class="n">GetPrimAtPath</span><span class="p">(</span><span class="s2">&quot;/World/Warehouse/Rack_BoxPallet_A01_01/BoxPallet_A01_03/CubeBox_A04_26cm_18&quot;</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">box2</span> <span class="o">=</span> <span class="n">stage</span><span class="o">.</span><span class="n">GetPrimAtPath</span><span class="p">(</span><span class="s2">&quot;/World/Warehouse/Rack_BoxPallet_A01_01/BoxPallet_A01_03/CubeBox_A04_26cm_17&quot;</span><span class="p">)</span>
<span class="linenos">5</span><span class="n">stage_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">stage</span><span class="o">.</span><span class="n">GetRootLayer</span><span class="p">()</span><span class="o">.</span><span class="n">identifier</span><span class="p">)</span>
<span class="linenos">6</span><span class="n">decals_path</span> <span class="o">=</span> <span class="n">stage_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;src_assets&quot;</span> <span class="o">/</span> <span class="s2">&quot;Assets&quot;</span> <span class="o">/</span> <span class="s2">&quot;Utilities&quot;</span> <span class="o">/</span> <span class="s2">&quot;MiscDecals&quot;</span> <span class="o">/</span> <span class="s2">&quot;MiscDecals.usd&quot;</span>
<span class="linenos">7</span><span class="n">box1</span><span class="o">.</span><span class="n">GetReferences</span><span class="p">()</span><span class="o">.</span><span class="n">AddReference</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">decals_path</span><span class="p">),</span> <span class="s2">&quot;/_MixinOverrides/DamagedStamp&quot;</span><span class="p">)</span>
<span class="linenos">8</span><span class="n">box2</span><span class="o">.</span><span class="n">GetReferences</span><span class="p">()</span><span class="o">.</span><span class="n">AddReference</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">decals_path</span><span class="p">),</span> <span class="s2">&quot;/_MixinOverrides/DamagedStamp&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This code overrides the top first and second boxes on the pallet closest to the camera by adding a new reference to <code class="docutils literal notranslate"><span class="pre">MiscDecals.usd</span></code> on the instanceable prim.</p>
<p>Notice how the top first and second box on the pallet closest to the camera now show a stamp that says, “Damaged”.</p>
<p><img alt="" src="../../_images/ad-hoc-damaged.png" /></p>
</section>
<section id="analyzing-the-impact-on-stage-statistics">
<h3>Analyzing the Impact on Stage Statistics<a class="headerlink" href="#analyzing-the-impact-on-stage-statistics" title="Link to this heading">#</a></h3>
<ol class="arabic simple" start="5">
<li><p><strong>Run</strong> the following code in the Interpreter window:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="linenos">2</span><span class="n">stats</span> <span class="o">=</span> <span class="n">UsdUtils</span><span class="o">.</span><span class="n">ComputeUsdStageStats</span><span class="p">(</span><span class="n">usdviewApi</span><span class="o">.</span><span class="n">stage</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">pprint</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
</pre></div>
</div>
<p>This prints a breakdown of the prim and instancing stats. Here’s a summarized comparison to the basic instancing scenario:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Scenario</p></th>
<th class="head"><p>Prims</p></th>
<th class="head"><p>Instances</p></th>
<th class="head"><p>Prototypes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Instancing</p></td>
<td><p>1711</p></td>
<td><p>1450</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>Ad-hoc Arc Refinement</p></td>
<td><p>1741</p></td>
<td><p>1450</p></td>
<td><p>4</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Key observations:</strong></p>
<ul class="simple">
<li><p>The prim count increased by 30 prims (from 1711 to 1741)</p></li>
<li><p>The instance count remained the same (1450)</p></li>
<li><p>A new prototype was created (from 3 to 4 prototypes)</p></li>
<li><p>Because prototypes are built off of composition arcs, introducing a new composition arc to an instance triggers the creation of a new prototype with the modifications that we defined in the new arc</p></li>
<li><p>The new prototype is shared by the two boxes we overrode.</p></li>
</ul>
<p>This technique is most beneficial when you have many instances that will use the same ad hoc composition arc.</p>
<ol class="arabic simple" start="6">
<li><p><strong>Close</strong> usdview.</p></li>
</ol>
</section>
<section id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h3>
<p>You’ve successfully learned ad hoc arcs refinement, a technique that adds new composition arcs to instanceable prims to introduce variety while preserving instancing benefits. This approach is most effective when you have multiple instances that will share the same override, as it creates new prototypes that can be reused efficiently across similar instances.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="scenegraph-hierarchical-refinement.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Hierarchical Refinement</p>
      </div>
    </a>
    <a class="right-next"
       href="scenegraph-broadcasted-refinement.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Broadcasted Refinement</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-ad-hoc-arcs-refinement">What Is Ad Hoc Arcs Refinement?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-ad-hoc-arcs-refinement">Exercise: Ad Hoc Arcs Refinement</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exploring-the-damaged-stamp-asset">Exploring the Damaged Stamp Asset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-ad-hoc-composition-arcs">Adding Ad Hoc Composition Arcs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analyzing-the-impact-on-stage-statistics">Analyzing the Impact on Stage Statistics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025 NVIDIA CORPORATION &amp; AFFILIATES. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
<div class="extra_footer">
  
  
    <script type="text/javascript">if (typeof _satellite !== "undefined") {_satellite.pageBottom();}</script>
    
  
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>