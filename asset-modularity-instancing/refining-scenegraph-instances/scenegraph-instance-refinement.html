

<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Introduction to Scenegraph Instance Refinement &#8212; Learn OpenUSD</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/lousd_custom.css?v=9deb43b2" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=ca842793"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'asset-modularity-instancing/refining-scenegraph-instances/scenegraph-instance-refinement';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Deinstancing Refinement" href="scenegraph-deinstance-refinement.html" />
    <link rel="prev" title="Refining Scenegraph Instances" href="index.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


    <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js" ></script>
    


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../what-openusd/index.html">What Is OpenUSD?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../why-openusd-developer-certification.html">Why Get Certified</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../stage-setting/index.html">Setting the Stage</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/stage.html">Stage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/prims.html">Prims</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../stage-setting/properties/index.html">Properties</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../stage-setting/properties/attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stage-setting/properties/relationships.html">Relationships</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/timecodes-timesamples.html">TimeCodes and TimeSamples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/prim-property-paths.html">Prim and Property Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/usd-file-formats.html">OpenUSD File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/usd-modules.html">OpenUSD Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../stage-setting/metadata.html">Metadata</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../scene-description-blueprints/index.html">Scene Description Blueprints</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/schemas.html">Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/scope.html">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/xform.html">Xform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/xformcommonapi.html">XformCommonAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scene-description-blueprints/lights.html">Lights</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../composition-basics/index.html">Composition Basics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/layers.html">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/strength-ordering.html">Composition Arcs and Strength Ordering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/specifiers.html">Specifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/references.html">Referencing Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/default-prim.html">Default Prim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../composition-basics/variant-sets.html">Variant Sets Basics</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../beyond-basics/index.html">Beyond the Basics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/primvars.html">Primvars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/value-resolution.html">Value Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/custom-properties.html">Custom Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/active-inactive-prims.html">Active and Inactive Prims</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/model-kinds.html">Model Kinds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/stage-traversal.html">Stage Traversal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../beyond-basics/hydra.html">Hydra</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../creating-composition-arcs/index.html">Creating Composition Arcs</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../creating-composition-arcs/prim-composition.html">What Is Prim Composition?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/sublayers/index.html">Sublayers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/what-are-sublayers.html">What Are Sublayers?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/working-with-sublayers.html">Exercise: Working with Sublayers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/sublayers/sublayers-faq.html">Sublayers FAQ</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/index.html">References and Payloads</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/what-are-references.html">What Are References?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/working-with-references.html">Exercise: Working With References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/references-faq.html">References FAQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/what-are-payloads.html">What Are Payloads?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/references-payloads/working-with-payloads.html">Exercise: Working With Payloads</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/index.html">Encapsulation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/what-is-encapsulation.html">What Is Encapsulation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/encapsulation/experimenting-with-encapsulation.html">Exercise: Experimenting With Encapsulation</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/index.html">Variant Sets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/what-are-variant-sets.html">What Are Variant Sets?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/variant-sets/working-with-variant-sets.html">Exercise: Working With Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/index.html">Inherits and Specializes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/what-is-inherits.html">What Is Inherits?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-inherits.html">Exercise: Experimenting With Inherits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/what-is-specializes.html">What Is Specializes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-specializes.html">Exercise: Experimenting With Specializes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/encapsulation-refinement.html">Encapsulation and Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/inherits-specializes/experimenting-with-encapsulation-refinement.html">Exercise: Experimenting With Encapsulation and Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/index.html">LIVERPS Strenth Ordering</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/what-is-liverps.html">What Is LIVERPS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../creating-composition-arcs/strength-ordering/tracing-through-liverps.html">Tracing Through LIVERPS</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../asset-structure/index.html">Asset Structure Principles and Content Aggregation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../asset-structure/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../asset-structure/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/asset-structure-principles/index.html">Principles of Asset Structure</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/why-necessary.html">Why Is an Asset Structure Necessary?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt1.html">What Is an Asset Interface?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/your-first-asset.html">Exercise: Your First Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt2.html">What Is an Asset Interface? (Part 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/encapsulating-your-asset.html">Exercise: Encapsulating Your Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/asset-interface-pt3.html">What Is an Asset Interface? (Part 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-structure-principles/organizing-prim-hierarchy.html">Exercise: Organizing Prim Hierarchy</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/workstreams/index.html">Workstreams</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/workstreams/modeling-workstreams.html">Modeling Workstreams With Layer Stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/workstreams/adding-user-workstreams.html">Exercise: Adding User Workstreams</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/asset-parameterization/index.html">Asset Parameterization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-parameterization/what-is-asset-parameterization.html">What Is Asset Parameterization?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/asset-parameterization/exercise-asset-parameterization.html">Exercise: Asset Parameterization</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/index.html">Reference/Payload Pattern</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/what-is-ref-payload-pattern.html">What Is Reference/Payload Pattern?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/exercise-ref-payload-pattern.html">Exercise: Reference/Payload Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/lofting-primvars.html">Exercise: Lofting Primvars</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/reference-payload-pattern/lofting-variant-sets.html">Exercise: Lofting Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../asset-structure/model-hierarchy/index.html">Model Hierarchy</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/what-are-model-kinds.html">What Are Model Kinds?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-components.html">Exercise: Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-assemblies.html">Exercise: Assemblies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/model-hierarchy-considerations.html">Model Hierarchy Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-groups.html">Exercise: Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../asset-structure/model-hierarchy/exercise-variation-workstream.html">Exercise: Variation Workstream</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../data-exchange/index.html">Developing Data Exchange Pipelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data-exchange/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data-exchange/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-exchange/index.html">Data Exchange</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-exchange/what-is-data-exchange.html">What Is Data Exchange?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-exchange/exercise.html">Exercise: Anatomy of a Converter</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-extraction/index.html">Data Extraction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/what-is-data-extraction.html">What Is Data Extraction?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/exercise-extracting-geometry.html">Exercise: Extracting Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-extraction/exercise-extracting-materials.html">Exercise: Extracting Materials</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/asset-validation/index.html">Asset Validation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/asset-validation/what-is-asset-validation.html">What Is Asset Validation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/asset-validation/exercise-asset-validation-testing.html">Exercise: Asset Validation and Testing</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../data-exchange/data-transformation/index.html">Data Transformation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/what-is-data-transformation.html">What Is Data Transformation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/transformation-hierarchy.html">Exercise: Transforming the Prim Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data-exchange/data-transformation/exercise-export-option.html">Exercise: Adding an Export Option</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">Asset Modularity and Instancing</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity/index.html">Asset Modularity</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity/what-is-asset-modularity.html">What Is Asset Modularity?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity/exercise-assets-overview.html">Exercise: Assets Overview</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../what-is-instancing.html">What Is Instancing?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../authoring-scenegraph-instancing/index.html">Authoring Scenegraph Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/scenegraph-instancing-intro.html">Introduction to Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/exercise-authoring-scenegraph-instancing.html">Exercise: Author Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/nested-instancing.html">Nested Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-scenegraph-instancing/exercise-nested-instancing.html">Exercise: Nested Scenegraph Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Refining Scenegraph Instances</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Introduction to Scenegraph Instance Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-deinstance-refinement.html">Deinstancing Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-variant-set-refinement.html">Refinement Using Variant Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-hierarchical-refinement.html">Hierarchical Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-ad-hoc-arcs-refinement.html">Ad Hoc Arcs Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="scenegraph-broadcasted-refinement.html">Broadcasted Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../authoring-point-instancing/index.html">Authoring Point Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../authoring-point-instancing/point-instancing-intro.html">Introduction to Point Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../authoring-point-instancing/exercise-authoring-point-instancing.html">Exercise: Authoring Point Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../refining-point-instances.html">Refining Point Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../instancing-faq.html">Instancing FAQ</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Common Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../usdview-install-instructions.html">Installing usdview and Setting Up Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Involved</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD">Contribute</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD/issues/new">Report an Issue</a></li>
<li class="toctree-l1"><a class="reference external" href="https://forum.aousd.org">Join the Community</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Asset Modularity and Instancing</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Refining Scenegraph Instances</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Introduction to Scenegraph Instance Refinement</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="introduction-to-scenegraph-instance-refinement">
<h1>Introduction to Scenegraph Instance Refinement<a class="headerlink" href="#introduction-to-scenegraph-instance-refinement" title="Link to this heading">#</a></h1>
<section id="instance-editability">
<h2>Instance Editability<a class="headerlink" href="#instance-editability" title="Link to this heading">#</a></h2>
<figure class="align-default" id="id1">
<video controls autoplay loop width="100%"><source src="../../_images/instance-editability.mp4" type="video/webm">Your browser does not support the video tag.</video><figcaption>
<p><span class="caption-text">Scenegraph instances cannot be directly overridden on the local layer stack.</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The key to increased performance via instancing comes from the fact that instances can’t be edited. You are choosing to limit OpenUSD’s super power of sparse overrides to get the performance improvement.</p>
<p>Here are the three rules to remember about instance editability:</p>
<ul class="simple">
<li><p>Prototypes are a runtime data model and are <strong>not editable</strong>.​</p></li>
<li><p>Instance proxies are <strong>not editable</strong>. Local opinions are discarded.​</p></li>
<li><p>Instanceable prims <em>are</em> <strong>editable</strong>.</p></li>
</ul>
<p>The following USDA layer shows valid and invalid overrides you might try to perform to demonstrate those rules.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
Prototype Override</label><div class="sd-tab-content docutils">
<p><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-x-circle sd-text-danger" viewBox="0 0 16 16" aria-hidden="true"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"></path></svg> <strong>NOT editable</strong></p>
<p>This override is invalid. In this case, the developer saw a “/__Prototype_01” item in the usdview tree view that is just used for reference and thought they could edit it. This override produces a dangling override completely unrelated to the actual prototype.</p>
<div class="highlight-usda notranslate"><div class="highlight"><pre><span></span><span class="c1">#usda 1.0</span>
<span class="p">(</span>
<span class="w">    </span><span class="n n-Builtins">defaultPrim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="w">    </span>metersPerUnit<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.01</span><span class="w">    </span>
<span class="w">    </span><span class="n n-Builtins">upAxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Z&quot;</span>
<span class="p">)</span>
<span class="k k-Tokens">def</span><span class="w"> </span>Xform<span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k k-Tokens">def</span><span class="w"> </span><span class="s">&quot;RobotArm_01&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k k-Tokens">references</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">@./RobotArm.usd@</span>
<span class="w">        </span><span class="n n-Builtins">instanceable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>true
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="hll"><span class="k k-Tokens">over</span><span class="w"> </span><span class="s">&quot;__Prototype_01&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">    </span><span class="kt">color3f</span><span class="w"> </span><span class="na">primvars:asset_color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">)]</span>
</span><span class="hll"><span class="p">}</span>
</span></pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
Instance Proxy Override</label><div class="sd-tab-content docutils">
<p><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-x-circle sd-text-danger" viewBox="0 0 16 16" aria-hidden="true"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"></path></svg> <strong>NOT editable</strong></p>
<p>“/World/RobotArm_01/joint_1” is an instance proxy. This override on is invalid.</p>
<div class="highlight-usda notranslate"><div class="highlight"><pre><span></span><span class="c1">#usda 1.0</span>
<span class="p">(</span>
<span class="w">    </span><span class="n n-Builtins">defaultPrim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="w">    </span>metersPerUnit<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.01</span><span class="w">    </span>
<span class="w">    </span><span class="n n-Builtins">upAxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Z&quot;</span>
<span class="p">)</span>
<span class="k k-Tokens">def</span><span class="w"> </span>Xform<span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k k-Tokens">def</span><span class="w"> </span><span class="s">&quot;RobotArm_01&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k k-Tokens">references</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">@./RobotArm.usd@</span>
<span class="w">        </span><span class="n n-Builtins">instanceable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>true
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span><span class="w">       </span>
<span class="hll"><span class="w">        </span><span class="k k-Tokens">over</span><span class="w"> </span><span class="s">&quot;joint_1&quot;</span><span class="w"> </span><span class="p">{</span>
</span><span class="hll"><span class="w">            </span><span class="kt">double3</span><span class="w"> </span><span class="na">xformOp:rotateX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span><span class="w">        </span>
</span><span class="hll"><span class="w">        </span><span class="p">}</span>
</span><span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-2" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-2">
Instanceable Prim Override</label><div class="sd-tab-content docutils">
<p><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-issue-closed sd-text-success" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.28 6.78a.75.75 0 0 0-1.06-1.06L7.25 8.69 5.78 7.22a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.06 0l3.5-3.5Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-1.5 0a6.5 6.5 0 1 0-13 0 6.5 6.5 0 0 0 13 0Z"></path></svg> <strong>Editable</strong></p>
<p>“/World/RobotArm_01” is an instanceable prim and the translation override is valid. This will successfully position the prim at <code class="docutils literal notranslate"><span class="pre">(10,</span> <span class="pre">0,</span> <span class="pre">20)</span></code>.</p>
<div class="highlight-usda notranslate"><div class="highlight"><pre><span></span><span class="c1">#usda 1.0</span>
<span class="p">(</span>
<span class="w">    </span><span class="n n-Builtins">defaultPrim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="w">    </span>metersPerUnit<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.01</span><span class="w">    </span>
<span class="w">    </span><span class="n n-Builtins">upAxis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Z&quot;</span>
<span class="p">)</span>
<span class="k k-Tokens">def</span><span class="w"> </span>Xform<span class="w"> </span><span class="s">&quot;World&quot;</span>
<span class="p">{</span>
<span class="w">    </span><span class="k k-Tokens">def</span><span class="w"> </span><span class="s">&quot;RobotArm_01&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">        </span><span class="k k-Tokens">references</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="si">@./RobotArm.usd@</span>
<span class="w">        </span><span class="n n-Builtins">instanceable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>true
<span class="w">    </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="hll"><span class="w">        </span><span class="kt">double3</span><span class="w"> </span><span class="na">xformOp:translate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">20</span><span class="p">)</span><span class="w">        </span>
</span><span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="what-is-refinement">
<h2>What Is Refinement?<a class="headerlink" href="#what-is-refinement" title="Link to this heading">#</a></h2>
<p>At this point, you may be thinking, “In my use case, if I need some variety or diversity in my objects does that mean that I can’t use instancing? I have to choose one or the other?”</p>
<p>Not necessarily. OpenUSD offers a lot of flexibility so you can’t have the best of both worlds. Even though you cannot edit instances, you can refine them. What we call refinement are permissible edits on the instanceable prim that can have one of these effects:</p>
<ol class="arabic simple">
<li><p>The edit is natively inherited by the instance.</p></li>
<li><p>The edit creates a change in the composition of that instance and it triggers the creation of a new prototype.</p></li>
</ol>
<p>By using refinement, you can build large, diverse scenes, but still leverage instancing wherever possible.</p>
<p>In the following lessons we will explore some common techniques for downstream refinement of instances:</p>
<ul class="simple">
<li><p>Deinstancing</p></li>
<li><p>Hierarchical Refinement</p>
<ul>
<li><p>Primvars</p></li>
<li><p>Transformation Operations (xformOps)</p></li>
<li><p>Visibility</p></li>
</ul>
</li>
<li><p>Refinement Using Variant Sets</p></li>
<li><p>Ad Hoc Arcs Refinement</p></li>
<li><p>Broadcasted Refinement</p></li>
</ul>
<p>Before getting into the different scenegraph instance refinement techniques, let’s explore instance editability with a hands-on exercise.</p>
</section>
<section id="exercise-instance-editability">
<h2>Exercise: Instance Editability<a class="headerlink" href="#exercise-instance-editability" title="Link to this heading">#</a></h2>
<section id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h3>
<p>In this exercise, you will explore the fundamental rules of instance editability by attempting to modify different types of prims in an instanced scene. You’ll discover which prims can be edited, which cannot, and understand why these restrictions exist for optimal performance in USD workflows.</p>
</section>
<section id="immutability-of-instance-proxies">
<h3>Immutability of Instance Proxies<a class="headerlink" href="#immutability-of-instance-proxies" title="Link to this heading">#</a></h3>
<p>We will pretend we’ve been asked to remove the decal from a box to represent a different type of box in our digital twin. Normally, you might create a new asset or variant set within the asset, but we will go with the naive approach of making the change in our aggregated scene. We are starting from a state where the component models are already instanced.</p>
<p>Let’s start by opening the warehouse scenario.</p>
<ol class="arabic simple">
<li><p><strong>Run</strong> in the terminal:</p></li>
</ol>
<p>Windows:</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="p">.\</span><span class="n">scripts</span><span class="p">\</span><span class="n">usdview</span><span class="p">.</span><span class="n">bat</span> <span class="p">.\</span><span class="n">instancing</span><span class="p">\</span><span class="n">ex_sg_editability</span><span class="p">\</span><span class="n">Scenario</span><span class="p">.</span><span class="n">usd</span> <span class="p">-</span><span class="n">-camera</span> <span class="n">ExCam_01</span>
</pre></div>
</div>
<p>Linux:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>./scripts/usdview.sh<span class="w"> </span>./instancing/ex_sg_editability/Scenario.usd<span class="w"> </span>--camera<span class="w"> </span>ExCam_01
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Click</strong> <em>Camera &gt; Select Camera &gt; ExCam_01</em> if you ever lose your place in the scene or want to get back to this camera position.</p>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Click</strong> on the top left box closest to the camera in the Viewport.</p></li>
</ol>
<p><img alt="" src="../../_images/top-left-box-closeup.png" /></p>
<ol class="arabic simple" start="3">
<li><p>Hover your mouse over the Tree View panel and <strong>press</strong> the “F” key to frame the selected prim in the Tree View.</p></li>
</ol>
<p>You should see “CubeBox_A04_26cm_18” selected in the Tree View panel. This is an <strong>instanceable prim</strong>.</p>
<ol class="arabic simple" start="4">
<li><p><strong>Click</strong> the triangle to the left of the select prim in the Tree View to expand the select prim’s hierarchy.</p></li>
<li><p><strong>Click</strong> on “SM_CubeBox_A04_Decal_01” that was revealed in the Tree View.</p></li>
</ol>
<p>We’ve decided that this box should not have any decals. We want to hide the decals on the box. This is an <strong>instance proxy</strong> though as denoted by the dark blue text. We’ll see what happens when we try to author this change.</p>
<ol class="arabic simple" start="6">
<li><p>In the Property panel, <strong>click</strong> on the “visibility” attribute.</p></li>
</ol>
<p><img alt="" src="../../_images/select-vis.png" />
We’ll use this property selection in subsequent steps to try to hide the decal.</p>
<ol class="arabic simple" start="7">
<li><p><strong>Click</strong> <em>Window &gt; Interpreter</em> to open the Interpreter window.</p></li>
<li><p><strong>Run</strong> the following code in the Interpreter window:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">vis</span> <span class="o">=</span> <span class="n">usdviewApi</span><span class="o">.</span><span class="n">property</span>
<span class="linenos">2</span><span class="n">vis</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="n">UsdGeom</span><span class="o">.</span><span class="n">Tokens</span><span class="o">.</span><span class="n">invisible</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>usdview has a special <code class="docutils literal notranslate"><span class="pre">UsdViewApi</span></code> object–accessible from <code class="docutils literal notranslate"><span class="pre">usdviewApi</span></code> in the Interpreter window–that gives us convenient context-aware access to our selections.</p>
</div>
<p>In Step 6, we selected the “visibility” attribute. We can get a <code class="docutils literal notranslate"><span class="pre">Usd.Attribute</span></code> object for that attribute using <code class="docutils literal notranslate"><span class="pre">usdviewApi.property</span></code>. Then, we can try setting it to <code class="docutils literal notranslate"><span class="pre">invisible</span></code>.</p>
<p>You should see an error like this in the Interpreter window:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>File<span class="w"> </span><span class="s2">&quot;&lt;input&gt;&quot;</span>,<span class="w"> </span>line<span class="w"> </span><span class="m">1</span>,<span class="w"> </span><span class="k">in</span><span class="w"> </span>&lt;module&gt;
pxr.Tf.ErrorException:<span class="w"> </span>
<span class="w">	</span>Error<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;pxrInternal_v0_25_5__pxrReserved__::UsdStage::_ValidateEditPrim&#39;</span><span class="w"> </span>at<span class="w"> </span>line<span class="w"> </span><span class="m">1504</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>file<span class="w"> </span>C:<span class="se">\g\1</span><span class="m">63073426</span><span class="se">\U</span>SD<span class="se">\p</span>xr<span class="se">\u</span>sd<span class="se">\u</span>sd<span class="se">\s</span>tage.cpp<span class="w"> </span>:<span class="w"> </span><span class="s1">&#39;Cannot create property spec at path &lt;/World/Warehouse/Rack_BoxPallet_A01_01/BoxPallet_A01_03/CubeBox_A04_26cm_18/SM_CubeBox_A04_Decal_01&gt;; authoring to an instance proxy is not allowed.&#39;</span>
<span class="w">	</span>Error<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;pxrInternal_v0_25_5__pxrReserved__::UsdStage::_SetValueImpl&#39;</span><span class="w"> </span>at<span class="w"> </span>line<span class="w"> </span><span class="m">7102</span><span class="w"> </span><span class="k">in</span><span class="w"> </span>file<span class="w"> </span>C:<span class="se">\g\1</span><span class="m">63073426</span><span class="se">\U</span>SD<span class="se">\p</span>xr<span class="se">\u</span>sd<span class="se">\u</span>sd<span class="se">\s</span>tage.cpp<span class="w"> </span>:<span class="w"> </span><span class="s1">&#39;Cannot set attribute value.  Failed to create attribute spec &lt;/World/Warehouse/Rack_BoxPallet_A01_01/BoxPallet_A01_03/CubeBox_A04_26cm_18/SM_CubeBox_A04_Decal_01.visibility&gt; in layer @anon:0000020B75F5EAE0@&#39;</span>
</pre></div>
</div>
<p>The decal prim is a <strong>instance proxy</strong> which makes it <strong>immutable</strong>. OpenUSD outputs an error explaining that we can’t author a local opinion to change the visibility of the decal prim.</p>
<p>Instances are not entirely immutable though. Instanceable prims (i.e. the root prim of an instance) can be edited. This is what allows scenegraph instances to have unique transformations in the scene. Let’s look at how instanceable prims can be mutated.</p>
</section>
<section id="mutability-of-instance-prims">
<h3>Mutability of Instance Prims<a class="headerlink" href="#mutability-of-instance-prims" title="Link to this heading">#</a></h3>
<ol class="arabic simple" start="9">
<li><p><strong>Click</strong> on “CubeBox_A04_26cm_18” in the Tree View.</p></li>
</ol>
<p>This is the <strong>instanceable prim</strong></p>
<ol class="arabic simple" start="10">
<li><p>In the Property panel, <strong>click</strong> on the <code class="docutils literal notranslate"><span class="pre">xformOp:translate</span></code> attribute.</p></li>
</ol>
<p><img alt="" src="../../_images/select-translate.png" /></p>
<p>This attribute on the instanceable prim has a unique value compared to all of the other boxes on this pallet and the prim has a unique computed world space position compared to all other prims on this stage. This mutability of the instanceable prim is key for the transformation of instances, but it has other useful benefits as we’ll see in the following units.</p>
<p>Let’s override the <code class="docutils literal notranslate"><span class="pre">xformOp:translate</span></code> attribute to further drive this point home.</p>
<ol class="arabic simple" start="11">
<li><p><strong>Run</strong> the following code in the Interpreter window:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">translate</span> <span class="o">=</span> <span class="n">usdviewApi</span><span class="o">.</span><span class="n">property</span>
<span class="linenos">2</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span> <span class="o">=</span> <span class="n">translate</span><span class="o">.</span><span class="n">Get</span><span class="p">()</span>
<span class="linenos">3</span><span class="n">translate</span><span class="o">.</span><span class="n">Set</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">+</span><span class="mf">20.0</span><span class="p">))</span>
</pre></div>
</div>
<p><img alt="" src="../../_images/instance-prim-tranlsation.png" /></p>
<p>Note how the box moved up 20 units in the viewport and it didn’t produce any errors.</p>
<p>This component-based instancing scheme enables us to benefit from instancing, but we can still perform tasks like removing and moving instanced boxes within our shipping and receiving warehouse. You can author other opinions on the instanceable prim to control things like visibility or activation of a prim.</p>
<ol class="arabic simple" start="12">
<li><p><strong>Close</strong> usdview.</p></li>
</ol>
</section>
<section id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h3>
<p>You’ve successfully demonstrated the three key rules of instance editability: prototypes and instance proxies are immutable, while instanceable prims remain editable. This understanding forms the foundation for learning refinement techniques that allow you to introduce variety into instanced scenes while maintaining performance benefits.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Refining Scenegraph Instances</p>
      </div>
    </a>
    <a class="right-next"
       href="scenegraph-deinstance-refinement.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Deinstancing Refinement</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-editability">Instance Editability</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-refinement">What Is Refinement?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-instance-editability">Exercise: Instance Editability</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#immutability-of-instance-proxies">Immutability of Instance Proxies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mutability-of-instance-prims">Mutability of Instance Prims</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025 NVIDIA CORPORATION &amp; AFFILIATES. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
<div class="extra_footer">
  
  
    <script type="text/javascript">if (typeof _satellite !== "undefined") {_satellite.pageBottom();}</script>
    
  
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>