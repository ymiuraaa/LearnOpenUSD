

<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Stage Traversal &#8212; Learn OpenUSD</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/lousd_custom.css?v=9deb43b2" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=ca842793"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'beyond-basics/stage-traversal';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Hydra" href="hydra.html" />
    <link rel="prev" title="Model Kinds" href="model-kinds.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />


    <script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js" ></script>
    


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="Learn OpenUSD - Home"/>
    <img src="../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="Learn OpenUSD - Home"/>
  
  
    <p class="title logo__title">Learn OpenUSD</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../what-openusd/index.html">What Is OpenUSD?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../why-openusd-developer-certification.html">Why Get Certified</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../stage-setting/index.html">Setting the Stage</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/stage.html">Stage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/prims.html">Prims</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../stage-setting/properties/index.html">Properties</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../stage-setting/properties/attributes.html">Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../stage-setting/properties/relationships.html">Relationships</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/timecodes-timesamples.html">TimeCodes and TimeSamples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/prim-property-paths.html">Prim and Property Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/usd-file-formats.html">OpenUSD File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/usd-modules.html">OpenUSD Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stage-setting/metadata.html">Metadata</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../scene-description-blueprints/index.html">Scene Description Blueprints</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/schemas.html">Schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/scope.html">Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/xform.html">Xform</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/xformcommonapi.html">XformCommonAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scene-description-blueprints/lights.html">Lights</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../composition-basics/index.html">Composition Basics</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/layers.html">Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/strength-ordering.html">Composition Arcs and Strength Ordering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/specifiers.html">Specifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/references.html">Referencing Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/default-prim.html">Default Prim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composition-basics/variant-sets.html">Variant Sets Basics</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Beyond the Basics</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="primvars.html">Primvars</a></li>
<li class="toctree-l2"><a class="reference internal" href="value-resolution.html">Value Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom-properties.html">Custom Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="active-inactive-prims.html">Active and Inactive Prims</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-kinds.html">Model Kinds</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Stage Traversal</a></li>
<li class="toctree-l2"><a class="reference internal" href="hydra.html">Hydra</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../creating-composition-arcs/index.html">Creating Composition Arcs</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../creating-composition-arcs/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating-composition-arcs/setup.html">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../creating-composition-arcs/prim-composition.html">What Is Prim Composition?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/sublayers/index.html">Sublayers</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/sublayers/what-are-sublayers.html">What Are Sublayers?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/sublayers/working-with-sublayers.html">Exercise: Working with Sublayers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/sublayers/sublayers-faq.html">Sublayers FAQ</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/references-payloads/index.html">References and Payloads</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/references-payloads/what-are-references.html">What Are References?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/references-payloads/working-with-references.html">Exercise: Working With References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/references-payloads/references-faq.html">References FAQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/references-payloads/what-are-payloads.html">What Are Payloads?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/references-payloads/working-with-payloads.html">Exercise: Working With Payloads</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/encapsulation/index.html">Encapsulation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/encapsulation/what-is-encapsulation.html">What Is Encapsulation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/encapsulation/experimenting-with-encapsulation.html">Exercise: Experimenting With Encapsulation</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/variant-sets/index.html">Variant Sets</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/variant-sets/what-are-variant-sets.html">What Are Variant Sets?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/variant-sets/working-with-variant-sets.html">Exercise: Working With Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/index.html">Inherits and Specializes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/what-is-inherits.html">What Is Inherits?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/experimenting-with-inherits.html">Exercise: Experimenting With Inherits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/what-is-specializes.html">What Is Specializes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/experimenting-with-specializes.html">Exercise: Experimenting With Specializes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/encapsulation-refinement.html">Encapsulation and Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/inherits-specializes/experimenting-with-encapsulation-refinement.html">Exercise: Experimenting With Encapsulation and Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../creating-composition-arcs/strength-ordering/index.html">LIVERPS Strenth Ordering</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/strength-ordering/what-is-liverps.html">What Is LIVERPS?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../creating-composition-arcs/strength-ordering/tracing-through-liverps.html">Tracing Through LIVERPS</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../asset-structure/index.html">Asset Structure Principles and Content Aggregation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../asset-structure/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-structure/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-structure/asset-structure-principles/index.html">Principles of Asset Structure</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/why-necessary.html">Why Is an Asset Structure Necessary?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/asset-interface-pt1.html">What Is an Asset Interface?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/your-first-asset.html">Exercise: Your First Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/asset-interface-pt2.html">What Is an Asset Interface? (Part 2)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/encapsulating-your-asset.html">Exercise: Encapsulating Your Asset</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/asset-interface-pt3.html">What Is an Asset Interface? (Part 3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-structure-principles/organizing-prim-hierarchy.html">Exercise: Organizing Prim Hierarchy</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-structure/workstreams/index.html">Workstreams</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/workstreams/modeling-workstreams.html">Modeling Workstreams With Layer Stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/workstreams/adding-user-workstreams.html">Exercise: Adding User Workstreams</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-structure/asset-parameterization/index.html">Asset Parameterization</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-parameterization/what-is-asset-parameterization.html">What Is Asset Parameterization?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/asset-parameterization/exercise-asset-parameterization.html">Exercise: Asset Parameterization</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-structure/reference-payload-pattern/index.html">Reference/Payload Pattern</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/reference-payload-pattern/what-is-ref-payload-pattern.html">What Is Reference/Payload Pattern?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/reference-payload-pattern/exercise-ref-payload-pattern.html">Exercise: Reference/Payload Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/reference-payload-pattern/lofting-primvars.html">Exercise: Lofting Primvars</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/reference-payload-pattern/lofting-variant-sets.html">Exercise: Lofting Variant Sets</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-structure/model-hierarchy/index.html">Model Hierarchy</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/what-are-model-kinds.html">What Are Model Kinds?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/exercise-components.html">Exercise: Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/exercise-assemblies.html">Exercise: Assemblies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/model-hierarchy-considerations.html">Model Hierarchy Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/exercise-groups.html">Exercise: Groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-structure/model-hierarchy/exercise-variation-workstream.html">Exercise: Variation Workstream</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data-exchange/index.html">Developing Data Exchange Pipelines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../data-exchange/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data-exchange/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../data-exchange/data-exchange/index.html">Data Exchange</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-exchange/what-is-data-exchange.html">What Is Data Exchange?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-exchange/exercise.html">Exercise: Anatomy of a Converter</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../data-exchange/data-extraction/index.html">Data Extraction</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-extraction/what-is-data-extraction.html">What Is Data Extraction?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-extraction/exercise-extracting-geometry.html">Exercise: Extracting Geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-extraction/exercise-extracting-materials.html">Exercise: Extracting Materials</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../data-exchange/asset-validation/index.html">Asset Validation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/asset-validation/what-is-asset-validation.html">What Is Asset Validation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/asset-validation/exercise-asset-validation-testing.html">Exercise: Asset Validation and Testing</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../data-exchange/data-transformation/index.html">Data Transformation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-transformation/what-is-data-transformation.html">What Is Data Transformation?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-transformation/transformation-hierarchy.html">Exercise: Transforming the Prim Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data-exchange/data-transformation/exercise-export-option.html">Exercise: Adding an Export Option</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../asset-modularity-instancing/index.html">Asset Modularity and Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../asset-modularity-instancing/index.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-modularity-instancing/setup.html">Setup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity-instancing/asset-modularity/index.html">Asset Modularity</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/asset-modularity/what-is-asset-modularity.html">What Is Asset Modularity?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/asset-modularity/exercise-assets-overview.html">Exercise: Assets Overview</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-modularity-instancing/what-is-instancing.html">What Is Instancing?</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity-instancing/authoring-scenegraph-instancing/index.html">Authoring Scenegraph Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-scenegraph-instancing/scenegraph-instancing-intro.html">Introduction to Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-scenegraph-instancing/exercise-authoring-scenegraph-instancing.html">Exercise: Author Scenegraph Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-scenegraph-instancing/nested-instancing.html">Nested Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-scenegraph-instancing/exercise-nested-instancing.html">Exercise: Nested Scenegraph Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/index.html">Refining Scenegraph Instances</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-instance-refinement.html">Introduction to Scenegraph Instance Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-deinstance-refinement.html">Deinstancing Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-variant-set-refinement.html">Refinement Using Variant Sets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-hierarchical-refinement.html">Hierarchical Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-ad-hoc-arcs-refinement.html">Ad Hoc Arcs Refinement</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/refining-scenegraph-instances/scenegraph-broadcasted-refinement.html">Broadcasted Refinement</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../asset-modularity-instancing/authoring-point-instancing/index.html">Authoring Point Instancing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-point-instancing/point-instancing-intro.html">Introduction to Point Instancing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../asset-modularity-instancing/authoring-point-instancing/exercise-authoring-point-instancing.html">Exercise: Authoring Point Instancing</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-modularity-instancing/refining-point-instances.html">Refining Point Instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../asset-modularity-instancing/instancing-faq.html">Instancing FAQ</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Common Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../usdview-install-instructions.html">Installing usdview and Setting Up Python</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Involved</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD">Contribute</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NVIDIA-Omniverse/LearnOpenUSD/issues/new">Report an Issue</a></li>
<li class="toctree-l1"><a class="reference external" href="https://forum.aousd.org">Join the Community</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Beyond the Basics</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Stage Traversal</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="stage-traversal">
<h1>Stage Traversal<a class="headerlink" href="#stage-traversal" title="Link to this heading">#</a></h1>
<section id="what-is-stage-traversal">
<h2>What Is Stage Traversal?<a class="headerlink" href="#what-is-stage-traversal" title="Link to this heading">#</a></h2>
<p>Stage traversal is the process of traversing the scenegraph of a stage with the purpose of querying or editing the scene data. We can traverse the scenegraph by iterating through child prims, accessing parent prims, and traversing the hierarchy to find specific prims of interest.</p>
<div class="video-container">
  <iframe
	src="https://cdnapisec.kaltura.com/p/2935771/embedPlaykitJs/uiconf_id/53712482?iframeembed=true&entry_id=1_ott9hzic"
	title="video"
	allowfullscreen
	webkitallowfullscreen
	mozAllowFullScreen
	allow="autoplay *; fullscreen *; encrypted-media *"
	frameborder="0">
  </iframe>
</div><section id="how-does-it-work">
<h3>How Does It Work?<a class="headerlink" href="#how-does-it-work" title="Link to this heading">#</a></h3>
<p>Traversing stages works via the <code class="docutils literal notranslate"><span class="pre">Usd.PrimRange</span></code> iterator. Other methods like <code class="docutils literal notranslate"><span class="pre">Usd.Stage.Traverse</span></code> return a <code class="docutils literal notranslate"><span class="pre">Usd.PrimRange</span></code> iterator. The difference is that <code class="docutils literal notranslate"><span class="pre">Usd.PrimRange</span></code> takes a starting prim as an argument and <code class="docutils literal notranslate"><span class="pre">Usd.Stage.Traverse</span></code> starts it’s traversal from the stage’s pseudo-root.</p>
<p>Traversals operate by walking prim by prim in depth-first order. You can use predicates and <code class="docutils literal notranslate"><span class="pre">Usd.PrimRange.PruneChildren</span></code> to optimize your traversals if you know you don’t need to visit certain branches.</p>
<p>There are two traversal modes:</p>
<ul class="simple">
<li><p><strong>Default</strong>: Iterate over child prims</p></li>
<li><p><strong>PreAndPostVisit</strong>: Iterate over the hierarchy and visit each prim twice, once when first encountering it, and then again when “exiting” the child hierarchy.</p></li>
</ul>
<p>There are also predicates which can be used for pre-filtering the result:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsActive</span></code></p>
<ul>
<li><p>If the active metadata is <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsActive()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsLoaded</span></code></p>
<ul>
<li><p>If the (ancestor) payload is loaded</p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsLoaded()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsModel</span></code></p>
<ul>
<li><p>If the kind is a sub kind of <code class="docutils literal notranslate"><span class="pre">Kind.Tokens.model</span></code></p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsModel()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsGroup</span></code></p>
<ul>
<li><p>If the kind is <code class="docutils literal notranslate"><span class="pre">Kind.Tokens.group</span></code></p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsGroup()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsAbstract</span></code></p>
<ul>
<li><p>If the prim specifier is <code class="docutils literal notranslate"><span class="pre">Sdf.SpecifierClass</span></code></p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsAbstract()</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Usd.PrimIsDefined</span></code></p>
<ul>
<li><p>If the prim specifier is <code class="docutils literal notranslate"><span class="pre">Sdf.SpecifierDef</span></code></p></li>
<li><p>Analogous to <code class="docutils literal notranslate"><span class="pre">Usd.Prim.IsDefined()</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="working-with-python">
<h3>Working With Python<a class="headerlink" href="#working-with-python" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># This yields all active, loaded, defined, non-abstract prims on this stage depth-first</span>
<span class="linenos"> 2</span><span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">Traverse</span><span class="p">()</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Traverse all prims in the stage</span>
<span class="linenos"> 5</span><span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">TraverseAll</span><span class="p">()</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># Predicates are combined used bitwise operators</span>
<span class="linenos"> 8</span><span class="n">predicate</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">PrimIsActive</span> <span class="o">&amp;</span> <span class="n">Usd</span><span class="o">.</span><span class="n">PrimIsLoaded</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># Traverse starting from the given prim and based on the predicate for filtering the traversal</span>
<span class="linenos">11</span><span class="n">Usd</span><span class="o">.</span><span class="n">PrimRange</span><span class="p">(</span><span class="n">prim</span><span class="p">,</span> <span class="n">predicate</span><span class="o">=</span><span class="n">predicate</span><span class="p">)</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c1"># You must use iter() to invoke iterator methods like Usd.PrimRange.PruneChildren()</span>
<span class="linenos">14</span><span class="n">it</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">Usd</span><span class="o">.</span><span class="n">PrimRange</span><span class="o">.</span><span class="n">Stage</span><span class="p">(</span><span class="n">stage</span><span class="p">))</span>
<span class="linenos">15</span><span class="k">for</span> <span class="n">prim</span> <span class="ow">in</span> <span class="n">it</span><span class="p">:</span>
<span class="linenos">16</span>    <span class="k">if</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetName</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;Environment&quot;</span><span class="p">:</span>
<span class="linenos">17</span>        <span class="n">prim_range</span><span class="o">.</span><span class="n">PruneChildren</span><span class="p">()</span>  <span class="c1"># Skip all children of &quot;Environment&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">#</a></h2>
<div class="cell tag_remove-input docutils container">
</div>
<p>For reference, this the USDA for the stage that we will be using in the following examples:</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output text_html">
<style type="text/css">
    .wrapper {
        width: 100%;
        height: 500px;
    }

    .container-usd-render {
        background-color: var(--pst-color-surface);
    }

    .code-column pre code.hljs {
        background: #282c34;
        color: #abb2bf;
        border-radius: 4px;
        text-wrap: nowrap;
        
    }
</style>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
        

<div class="container-usd-render">
    <div>
        <div>
                        
        
<div class="text-left full-width">
    <pre>
        <code id="code-content-41fee6e0-bb64-4e62-9c0e-cac4d617b7de" class="language-python" style="display: none;">#usda 1.0
(
    defaultPrim = "World"
)

def Xform "World"
{
    def Xform "Box"
    {
        def Scope "Geometry"
        {
            def Cube "Cube"
            {
            }
        }

        def Scope "Materials"
        {
            def Material "BoxMat"
            {
            }
        }
    }

    def Scope "Environment"
    {
        def DistantLight "SkyLight"
        {
        }
    }
}

</code>
    </pre>
</div>

<script type="application/javascript">
    (() => {
        function onDocumentReady(callback) {
            if (document.readyState !== 'loading') {
                callback();
            } else {
                document.addEventListener('DOMContentLoaded', callback);
            }
        }

        function doHighlight() {
            const snippetToHighlight = document.getElementById('code-content-41fee6e0-bb64-4e62-9c0e-cac4d617b7de');
            if (snippetToHighlight !== null) {
                hljs.highlightElement(snippetToHighlight);
                snippetToHighlight.style.display = 'block';
            }                  
        }
        
        function main() {
            if (window.hljs) {
                doHighlight();              
            } else {
                setTimeout(main, 250);
            }
        }

        onDocumentReady(main);
    })();
</script>

        </div>
    </div>
</div></div></div>
</div>
<section id="example-1-traversing-through-the-stage">
<h3>Example 1: Traversing Through the Stage<a class="headerlink" href="#example-1-traversing-through-the-stage" title="Link to this heading">#</a></h3>
<p>To traverse through the stage, we can use the <a class="reference external" href="https://openusd.org/release/api/class_usd_stage.html#adba675b55f41cc1b305bed414fc4f178" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">Traverse()</span></code></a> method. This traversal will yield prims that are active, loaded, defined, non-abstract on the stage in depth-first order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Import the Usd module from the pxr package</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">pxr</span><span class="w"> </span><span class="kn">import</span> <span class="n">Usd</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Open the USD stage from the specified file</span>
<span class="linenos"> 5</span><span class="n">stage</span><span class="p">:</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&quot;_assets/stage_traversal.usda&quot;</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="hll"><span class="linenos"> 7</span><span class="c1"># Traverse and print the paths for the visited prims</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="k">for</span> <span class="n">prim</span> <span class="ow">in</span> <span class="n">stage</span><span class="o">.</span><span class="n">Traverse</span><span class="p">():</span>
</span><span class="hll"><span class="linenos"> 9</span>    <span class="c1"># Print the path of each prim</span>
</span><span class="hll"><span class="linenos">10</span>    <span class="nb">print</span><span class="p">(</span><span class="n">prim</span><span class="o">.</span><span class="n">GetPath</span><span class="p">())</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/World
/World/Box
/World/Box/Geometry
/World/Box/Geometry/Cube
/World/Box/Materials
/World/Box/Materials/BoxMat
/World/Environment
/World/Environment/SkyLight
</pre></div>
</div>
</div>
</div>
<p>Note how the prims were printed in depth-first order. All of the descendants of <code class="docutils literal notranslate"><span class="pre">/World/Box</span></code> appear before <code class="docutils literal notranslate"><span class="pre">/World/Environment</span></code> and its descendants.</p>
</section>
<section id="example-2-traversing-usd-content-for-specific-prim-types">
<h3>Example 2: Traversing USD Content for Specific Prim Types<a class="headerlink" href="#example-2-traversing-usd-content-for-specific-prim-types" title="Link to this heading">#</a></h3>
<p>For this practical example, we will traverse the stage to operate on specific prims based on their types.</p>
<p>We can filter based on the type of the prim. For example, we can check if the prim is of type <code class="docutils literal notranslate"><span class="pre">scope</span></code> or <code class="docutils literal notranslate"><span class="pre">xform</span></code>. To do this we pass the prim into the constructor method for the prim type we are interested in. For example,<code class="docutils literal notranslate"><span class="pre">UsdGeom.Scope(prim)</span></code> is equivalent to <a class="reference external" href="https://openusd.org/release/api/class_usd_geom_scope.html#a538339c2aa462ebcf1eb07fed16f9be4" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">UsdGeom.Scope.Get(prim.GetStage(),</span> <span class="pre">prim.GetPath())</span></code></a> for a valid prim. If the prim’s type does not match, it will return an invalid prim.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Import necessary modules from the pxr package</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">pxr</span><span class="w"> </span><span class="kn">import</span> <span class="n">Usd</span><span class="p">,</span> <span class="n">UsdGeom</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Open the USD stage from the specified file</span>
<span class="linenos"> 5</span><span class="n">stage</span><span class="p">:</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&quot;_assets/stage_traversal.usda&quot;</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="hll"><span class="linenos"> 7</span><span class="n">scope_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 8</span><span class="n">xform_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span class="hll"><span class="linenos"> 9</span><span class="c1"># Traverse through each prim in the stage</span>
</span><span class="hll"><span class="linenos">10</span><span class="k">for</span> <span class="n">prim</span> <span class="ow">in</span> <span class="n">stage</span><span class="o">.</span><span class="n">Traverse</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">11</span>    <span class="c1"># Check if the prim is of type Scope</span>
</span><span class="hll"><span class="linenos">12</span>    <span class="k">if</span> <span class="n">UsdGeom</span><span class="o">.</span><span class="n">Scope</span><span class="p">(</span><span class="n">prim</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">13</span>        <span class="n">scope_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span class="hll"><span class="linenos">14</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scope Type: &quot;</span><span class="p">,</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetName</span><span class="p">())</span>
</span><span class="hll"><span class="linenos">15</span>    <span class="c1"># Check if the prim is of type Xform</span>
</span><span class="hll"><span class="linenos">16</span>    <span class="k">elif</span> <span class="n">UsdGeom</span><span class="o">.</span><span class="n">Xform</span><span class="p">(</span><span class="n">prim</span><span class="p">):</span>
</span><span class="hll"><span class="linenos">17</span>        <span class="n">xform_count</span> <span class="o">+=</span><span class="mi">1</span>
</span><span class="hll"><span class="linenos">18</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Xform Type: &quot;</span><span class="p">,</span> <span class="n">prim</span><span class="o">.</span><span class="n">GetName</span><span class="p">())</span>
</span><span class="hll"><span class="linenos">19</span>
</span><span class="hll"><span class="linenos">20</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of Scope prims: &quot;</span><span class="p">,</span> <span class="n">scope_count</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">21</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of Xform prims: &quot;</span><span class="p">,</span> <span class="n">xform_count</span><span class="p">)</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Xform Type:  World
Xform Type:  Box
Scope Type:  Geometry
Scope Type:  Materials
Scope Type:  Environment
Number of Scope prims:  3
Number of Xform prims:  2
</pre></div>
</div>
</div>
</div>
</section>
<section id="example-3-traversing-through-the-children-of-a-prim">
<h3>Example 3: Traversing Through the Children of a Prim<a class="headerlink" href="#example-3-traversing-through-the-children-of-a-prim" title="Link to this heading">#</a></h3>
<p>Using <a class="reference external" href="https://openusd.org/release/api/class_usd_stage.html#adba675b55f41cc1b305bed414fc4f178" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">Traverse()</span></code></a> can be a powerful tool, but for large stages, more efficient and targeted methods should be considered. A way to be more efficient and targeted is to traverse through the children of a prim.</p>
<p>If you need to work within a specific scope or hierarchy in the stage, you can perform a traversal starting from a particular prim. Let’s take a look at how we can traverse through the children of the default prim.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Import the `Usd` module from the `pxr` package:</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">pxr</span><span class="w"> </span><span class="kn">import</span> <span class="n">Usd</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="c1"># Open the USD stage from the specified file:</span>
<span class="linenos"> 5</span><span class="n">stage</span><span class="p">:</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&quot;_assets/stage_traversal.usda&quot;</span><span class="p">)</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="c1"># Get the default prim of the stage (/World in this case):</span>
<span class="linenos"> 8</span><span class="n">default_prim</span><span class="p">:</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Prim</span> <span class="o">=</span> <span class="n">stage</span><span class="o">.</span><span class="n">GetDefaultPrim</span><span class="p">()</span>
<span class="linenos"> 9</span>
<span class="hll"><span class="linenos">10</span><span class="c1"># Iterate through all children of the default prim</span>
</span><span class="hll"><span class="linenos">11</span><span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">default_prim</span><span class="o">.</span><span class="n">GetAllChildren</span><span class="p">():</span>
</span><span class="hll"><span class="linenos">12</span>    <span class="c1"># Print the path of each child prim</span>
</span><span class="hll"><span class="linenos">13</span>    <span class="nb">print</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">GetPath</span><span class="p">())</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/World/Box
/World/Environment
</pre></div>
</div>
</div>
</div>
</section>
<section id="example-4-traversing-using-usd-primrange">
<h3>Example 4: Traversing Using Usd.PrimRange<a class="headerlink" href="#example-4-traversing-using-usd-primrange" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://openusd.org/release/api/class_usd_stage.html#adba675b55f41cc1b305bed414fc4f178" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">Traverse()</span></code></a> will return a <a class="reference external" href="https://openusd.org/release/api/class_usd_prim_range.html" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">UsdPrimRange</span></code></a> object. <code class="docutils literal notranslate"><span class="pre">UsdPrimRange</span></code> exposes pre- and post- prim visitations allowing for a more involved traversals. It can also be used to perform actions such as pruning subtrees.</p>
<p>Let’s see an example of <a class="reference external" href="https://openusd.org/release/api/class_usd_prim_range.html" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">UsdPrimRange</span></code></a> in use.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># Import the Usd module from the pxr package</span>
<span class="linenos">2</span><span class="kn">from</span><span class="w"> </span><span class="nn">pxr</span><span class="w"> </span><span class="kn">import</span> <span class="n">Usd</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="c1"># Open the USD stage from the specified file</span>
<span class="linenos">5</span><span class="n">stage</span><span class="p">:</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">Stage</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&quot;_assets/stage_traversal.usda&quot;</span><span class="p">)</span>
<span class="linenos">6</span>
<span class="hll"><span class="linenos">7</span><span class="n">prim_range</span> <span class="o">=</span> <span class="n">Usd</span><span class="o">.</span><span class="n">PrimRange</span><span class="p">(</span><span class="n">stage</span><span class="o">.</span><span class="n">GetPrimAtPath</span><span class="p">(</span><span class="s2">&quot;/World/Box&quot;</span><span class="p">))</span>
</span><span class="hll"><span class="linenos">8</span><span class="k">for</span> <span class="n">prim</span> <span class="ow">in</span> <span class="n">prim_range</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">9</span>    <span class="nb">print</span><span class="p">(</span><span class="n">prim</span><span class="o">.</span><span class="n">GetPath</span><span class="p">())</span>
</span></pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/World/Box
/World/Box/Geometry
/World/Box/Geometry/Cube
/World/Box/Materials
/World/Box/Materials/BoxMat
</pre></div>
</div>
</div>
</div>
<p>Note how only “/World/Box” and its descendants are printed.</p>
<p>There are other ways to use <a class="reference external" href="https://openusd.org/release/api/class_usd_prim_range.html" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">UsdPrimRange</span></code></a> such as passing in <a class="reference external" href="https://openusd.org/release/api/prim_flags_8h.html#Usd_PrimFlags" rel="noreferer noopener" target="_blank"><code class="docutils literal notranslate"><span class="pre">predicates</span></code></a>, you can find more information in the <a class="reference external" href="https://openusd.org/release/api/class_usd_prim_range.html#details" rel="noreferer noopener" target="_blank">Using Usd.PrimRange in Python</a> section of <code class="docutils literal notranslate"><span class="pre">UsdPrimRange</span></code>.</p>
</section>
</section>
<section id="key-takeaways">
<h2>Key Takeaways<a class="headerlink" href="#key-takeaways" title="Link to this heading">#</a></h2>
<p>Traversal is how we navigate the scenegraph and query scene data. Traversal can be made more efficient by limiting the number of prims it visits.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="model-kinds.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Model Kinds</p>
      </div>
    </a>
    <a class="right-next"
       href="hydra.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Hydra</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-stage-traversal">What Is Stage Traversal?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-does-it-work">How Does It Work?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-python">Working With Python</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#examples">Examples</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-1-traversing-through-the-stage">Example 1: Traversing Through the Stage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-2-traversing-usd-content-for-specific-prim-types">Example 2: Traversing USD Content for Specific Prim Types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-3-traversing-through-the-children-of-a-prim">Example 3: Traversing Through the Children of a Prim</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#example-4-traversing-using-usd-primrange">Example 4: Traversing Using Usd.PrimRange</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2025 NVIDIA CORPORATION &amp; AFFILIATES. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
<div class="extra_footer">
  
  
    <script type="text/javascript">if (typeof _satellite !== "undefined") {_satellite.pageBottom();}</script>
    
  
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>